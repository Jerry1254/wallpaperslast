"use strict";exports.id=4874,exports.ids=[4874],exports.modules={24874:(e,t,l)=>{l.d(t,{e:()=>ImagePreviewModal});var s=l(30784),a=l(9885),i=l(40516),n=l(56206),r=l(51910),c=l(11922),h=l(95555),o=l(99098);function ImagePreviewModal({images:e,initialIndex:t=0,open:l,onOpenChange:u}){let[d,g]=(0,a.useState)(t);(0,a.useEffect)(()=>{d>=e.length&&g(0)},[d,e.length]),(0,a.useEffect)(()=>{g(t)},[t]);let x=e[d],f=x?.type?.startsWith("video/"),w=(0,a.useCallback)(()=>{g(t=>0===t?e.length-1:t-1)},[e.length]),m=(0,a.useCallback)(()=>{g(t=>t===e.length-1?0:t+1)},[e.length]),v=(0,a.useCallback)(e=>{"ArrowLeft"===e.key?w():"ArrowRight"===e.key?m():"Escape"===e.key&&u(!1)},[w,m,u]);return((0,a.useEffect)(()=>{if(l)return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[l,v]),e.length&&x)?s.jsx(i.Vq,{open:l,onOpenChange:u,children:s.jsx(i.cZ,{className:"max-w-full h-[90vh] p-0 border-none bg-black/90",children:(0,s.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx(h.z,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-white hover:bg-white/20",onClick:()=>u(!1),children:s.jsx(n.Z,{className:"h-6 w-6"})}),e.length>1&&s.jsx(h.z,{variant:"ghost",size:"icon",className:"absolute left-4 z-50 text-white hover:bg-white/20",onClick:w,children:s.jsx(r.Z,{className:"h-8 w-8"})}),s.jsx("div",{className:"w-auto h-full flex items-center justify-center p-4",children:s.jsx("div",{className:"relative h-[80vh]",style:{aspectRatio:"9/16",maxHeight:"80vh"},children:f?s.jsx(o.F,{src:x.url,className:"h-full w-full object-contain"}):s.jsx("img",{src:x.url,alt:"",className:"h-full w-full object-contain"})})}),e.length>1&&s.jsx(h.z,{variant:"ghost",size:"icon",className:"absolute right-4 z-50 text-white hover:bg-white/20",onClick:m,children:s.jsx(c.Z,{className:"h-8 w-8"})}),e.length>1&&(0,s.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white bg-black/50 px-3 py-1 rounded-full",children:[d+1," / ",e.length]})]})})}):null}}};