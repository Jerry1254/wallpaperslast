(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9423:function(e,s,a){Promise.resolve().then(a.bind(a,56731)),Promise.resolve().then(a.bind(a,30097))},56731:function(e,s,a){"use strict";a.r(s),a.d(s,{AdminLayout:function(){return AdminLayout}});var t=a(26705),n=a(20955),r=a(68004),l=a(67972),d=a(65883),i=a(23611),o=a(23291),c=a(17158),m=a(62442),u=a(76369),x=a(81628);let f=o.fC,h=o.xz;o.ZA,o.Uv,o.Tr,o.Ee;let p=n.forwardRef((e,s)=>{let{className:a,inset:n,children:r,...l}=e;return(0,t.jsxs)(o.fF,{ref:s,className:(0,x.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...l,children:[r,(0,t.jsx)(c.Z,{className:"ml-auto"})]})});p.displayName=o.fF.displayName;let g=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(o.tu,{ref:s,className:(0,x.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})});g.displayName=o.tu.displayName;let v=n.forwardRef((e,s)=>{let{className:a,sideOffset:n=4,...r}=e;return(0,t.jsx)(o.Uv,{children:(0,t.jsx)(o.VY,{ref:s,sideOffset:n,className:(0,x.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});v.displayName=o.VY.displayName;let j=n.forwardRef((e,s)=>{let{className:a,inset:n,...r}=e;return(0,t.jsx)(o.ck,{ref:s,className:(0,x.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...r})});j.displayName=o.ck.displayName;let N=n.forwardRef((e,s)=>{let{className:a,children:n,checked:r,...l}=e;return(0,t.jsxs)(o.oC,{ref:s,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(o.wU,{children:(0,t.jsx)(m.Z,{className:"h-4 w-4"})})}),n]})});N.displayName=o.oC.displayName;let b=n.forwardRef((e,s)=>{let{className:a,children:n,...r}=e;return(0,t.jsxs)(o.Rk,{ref:s,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(o.wU,{children:(0,t.jsx)(u.Z,{className:"h-2 w-2 fill-current"})})}),n]})});b.displayName=o.Rk.displayName;let w=n.forwardRef((e,s)=>{let{className:a,inset:n,...r}=e;return(0,t.jsx)(o.__,{ref:s,className:(0,x.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...r})});w.displayName=o.__.displayName;let y=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(o.Z0,{ref:s,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",a),...n})});y.displayName=o.Z0.displayName;var C=a(24033);function Header(e){let{onMenuClick:s}=e;return(0,C.useRouter)(),(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsxs)("div",{className:"flex h-14 items-center px-4 gap-4",children:[(0,t.jsxs)(i.z,{variant:"ghost",size:"icon",onClick:s,className:"md:hidden",children:[(0,t.jsx)(r.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle sidebar"})]}),(0,t.jsx)("div",{className:"flex items-center gap-0",children:(0,t.jsx)("span",{className:"font-semibold",children:"壁纸管理系统"})}),(0,t.jsx)("div",{className:"flex flex-1 items-center justify-end gap-4",children:(0,t.jsxs)(f,{children:[(0,t.jsx)(h,{asChild:!0,children:(0,t.jsxs)(i.z,{variant:"ghost",className:"gap-2",children:[(0,t.jsx)(l.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"吉意空间"}),(0,t.jsx)("span",{className:"sr-only",children:"User menu"})]})}),(0,t.jsxs)(v,{align:"end",children:[(0,t.jsx)(w,{children:"我的账户"}),(0,t.jsx)(y,{}),(0,t.jsxs)(j,{onClick:async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),localStorage.removeItem("user"),window.location.replace("/login")}catch(e){console.error("Logout failed:",e)}},children:[(0,t.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"退出登录"]})]})]})})]})})}var k=a(61396),Z=a.n(k),R=a(25119),z=a(38438),_=a(25750),O=a(29409);let S=[{title:"仪表盘",icon:R.Z,href:"/dashboard"},{title:"壁纸管理",icon:z.Z,href:"/wallpapers"},{title:"用户管理",icon:_.Z,href:"/users"},{title:"分享页设置",icon:O.Z,href:"/settings"}];function Sidebar(e){let{isOpen:s}=e,a=(0,C.usePathname)();return(0,t.jsx)("aside",{className:(0,x.cn)("fixed left-0 top-14 z-30 h-[calc(100vh-3.5rem)] w-64 border-r bg-background transition-transform md:sticky",!s&&"-translate-x-full md:translate-x-0"),children:(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsx)("div",{className:"px-3 py-2",children:(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)("nav",{className:"space-y-1",children:S.map(e=>(0,t.jsxs)(Z(),{href:e.href,className:(0,x.cn)("flex items-center rounded-lg px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",a===e.href&&"bg-accent text-accent-foreground"),children:[(0,t.jsx)(e.icon,{className:"mr-2 h-4 w-4"}),e.title]},e.href))})})})})})}function AdminLayout(e){let{children:s}=e,[a,r]=(0,n.useState)(!0);return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(Header,{onMenuClick:()=>r(!a)}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(Sidebar,{isOpen:a}),(0,t.jsx)("main",{className:"flex-1 p-6",children:(0,t.jsx)("div",{className:"container mx-auto max-w-7xl",children:s})})]})]})}},30097:function(e,s,a){"use strict";a.r(s),a.d(s,{DownloadStats:function(){return DownloadStats}});var t=a(26705),n=a(16691),r=a.n(n),l=a(49598),d=a(55117),i=a(69263),o=a(45253),c=a(67181),m=a(16830),u=a(36612),x=a(86812);function CustomPieChart(e){let{data:s,colors:a}=e;return(0,t.jsx)(o.h,{width:"100%",height:200,children:(0,t.jsxs)(c.u,{children:[(0,t.jsx)(m.b,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:s.map((e,s)=>(0,t.jsx)(u.b,{fill:a[s%a.length]},"cell-".concat(s)))}),(0,t.jsx)(x.u,{})]})})}let f=[{id:1,title:"山水风景",thumbnail:"/placeholder.svg",downloads:1234},{id:2,title:"城市夜景",thumbnail:"/placeholder.svg",downloads:1156},{id:3,title:"星空银河",thumbnail:"/placeholder.svg",downloads:987},{id:4,title:"海滩日落",thumbnail:"/placeholder.svg",downloads:876},{id:5,title:"雪山风光",thumbnail:"/placeholder.svg",downloads:765}],h=[{id:6,title:"荒漠风光",thumbnail:"/placeholder.svg",downloads:12},{id:7,title:"森林小径",thumbnail:"/placeholder.svg",downloads:15},{id:8,title:"都市建筑",thumbnail:"/placeholder.svg",downloads:18},{id:9,title:"田园风光",thumbnail:"/placeholder.svg",downloads:20},{id:10,title:"瀑布溪流",thumbnail:"/placeholder.svg",downloads:23}],p=[{name:"苹果",value:4544},{name:"华为",value:3321},{name:"小米",value:3113},{name:"OPPO",value:2341},{name:"VIVO",value:1231},{name:"其他",value:1012}],g=[{name:"iOS",value:4544},{name:"安卓",value:6685},{name:"鸿蒙",value:3321}],v=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEEAD","#D4A5A5"],j=["#4ECDC4","#45B7D1","#FF6B6B"];function DownloadStats(){return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 text-green-500"}),"下载 TOP 5"]})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(r(),{src:e.thumbnail,alt:e.title,width:70,height:70,className:"rounded-lg object-cover"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.downloads.toLocaleString()," 次下载"]})]})]},e.id))})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 text-red-500"}),"下载 LAST 5"]})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(r(),{src:e.thumbnail,alt:e.title,width:70,height:70,className:"rounded-lg object-cover"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.downloads.toLocaleString()," 次下载"]})]})]},e.id))})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{className:"text-base",children:"设备品牌分布"})}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)(CustomPieChart,{data:p,colors:v}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:p.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:v[s]}}),(0,t.jsx)("span",{className:"text-sm",children:e.name}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground ml-auto",children:[(e.value/p.reduce((e,s)=>e+s.value,0)*100).toFixed(1),"%"]})]},e.name))})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{className:"text-base",children:"系统类型分布"})}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)(CustomPieChart,{data:g,colors:j}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:g.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:j[s]}}),(0,t.jsx)("span",{className:"text-sm",children:e.name}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground ml-auto",children:[(e.value/g.reduce((e,s)=>e+s.value,0)*100).toFixed(1),"%"]})]},e.name))})]})]})]})]})}},23611:function(e,s,a){"use strict";a.d(s,{d:function(){return o},z:function(){return c}});var t=a(26705),n=a(20955),r=a(67256),l=a(96061),d=a(81628),i=a(63715);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,s)=>{let{className:a,variant:n,size:l,asChild:c=!1,loading:m=!1,children:u,disabled:x,...f}=e,h=c?r.g7:"button";return(0,t.jsx)(h,{className:(0,d.cn)(o({variant:n,size:l,className:a})),ref:s,disabled:m||x,...f,children:m?(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 animate-spin"}),u]}):u})});c.displayName="Button"},49598:function(e,s,a){"use strict";a.d(s,{Ol:function(){return d},SZ:function(){return o},Zb:function(){return l},aY:function(){return c},ll:function(){return i}});var t=a(26705),n=a(20955),r=a(81628);let l=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});l.displayName="Card";let d=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});d.displayName="CardHeader";let i=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});i.displayName="CardTitle";let o=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let c=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent";let m=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})});m.displayName="CardFooter"},81628:function(e,s,a){"use strict";a.d(s,{cn:function(){return cn}});var t=a(57042),n=a(74769);function cn(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,n.m6)((0,t.W)(s))}}},function(e){e.O(0,[371,899,705,691,839,77,860,121,290,744],function(){return e(e.s=9423)}),_N_E=e.O()}]);