"use strict";(()=>{var e={};e.id=6668,e.ids=[6668],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},41808:e=>{e.exports=require("net")},77282:e=>{e.exports=require("process")},12781:e=>{e.exports=require("stream")},71576:e=>{e.exports=require("string_decoder")},39512:e=>{e.exports=require("timers")},24404:e=>{e.exports=require("tls")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},41028:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>x,originalPathname:()=>_,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>l});var s={};r.r(s),r.d(s,{GET:()=>GET,POST:()=>POST}),r(78976);var a=r(10884),i=r(16132),o=r(95798),n=r(69363);async function GET(){try{let e=await (0,n.I)(),[t]=await e.execute("SELECT * FROM system_settings LIMIT 1");return await e.end(),o.Z.json({code:0,data:t[0]||{}})}catch(e){return o.Z.json({code:1,message:e.message},{status:500})}}async function POST(e){try{let t=await e.json(),{share_header_text:r,share_button_text:s}=t;if(!r?.trim()||!s?.trim())return o.Z.json({code:1,message:"所有字段都不能为空"},{status:400});let a=await (0,n.I)();return await a.execute(`ALTER TABLE system_settings 
       MODIFY COLUMN share_header_text TEXT,
       MODIFY COLUMN share_button_text VARCHAR(255)`),await a.execute(`UPDATE system_settings SET 
       share_header_text = ?,
       share_button_text = ?`,[r,s]),await a.end(),o.Z.json({code:0,message:"保存成功"})}catch(e){return o.Z.json({code:1,message:e.message},{status:500})}}let u=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/settings/route",pathname:"/api/settings",filename:"route",bundlePath:"app/api/settings/route"},resolvedPagePath:"/Users/kele/Desktop/aicode/wallpaper-admin-last/app/api/settings/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:c,headerHooks:x,staticGenerationBailout:l}=u,_="/api/settings/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[3955,7455,8336],()=>__webpack_exec__(41028));module.exports=r})();